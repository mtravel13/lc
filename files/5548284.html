<div id="post_detail">
<!--done-->
<div id="topics">
	<div class = "post">
		<h1 class = "postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/grandyang/p/5548284.html">[LeetCode] Data Stream as Disjoint Intervals 分离区间的数据流</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body"><p>&nbsp;</p>
<p>Given a data stream input of non-negative integers a<sub>1</sub>, a<sub>2</sub>, ..., a<sub>n</sub>, ..., summarize the numbers seen so far as a list of disjoint intervals.</p>
<p>For example, suppose the integers from the data stream are 1, 3, 7, 2, 6, ..., then the summary will be:</p>
<pre>[1, 1]
[1, 1], [3, 3]
[1, 1], [3, 3], [7, 7]
[1, 3], [7, 7]
[1, 3], [6, 7]
</pre>
<p><strong>Follow up:</strong><br />
What if there are lots of merges and the number of disjoint intervals are small compared to the data stream's size?
</p>
<p><strong>Credits:</strong><br />Special thanks to <a href="https://discuss.leetcode.com/user/yunhong">@yunhong</a> for adding this problem and creating most of the test cases.</p>
<p>&nbsp;</p>
<p>这道题说有个数据流每次提供一个数字，然后让我们组成一系列分离的区间，这道题跟之前那道<a href="http://www.cnblogs.com/grandyang/p/4367569.html" target="_blank">Insert Interval</a>很像，思路也很像，每进来一个新的数字val，我们都生成一个新的区间[val, val]，然后将其插入到当前的区间里，注意分情况讨论，无重叠，相邻，和有重叠分开讨论处理，参见代码如下:</p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">class</span><span style="color: #000000;"> SummaryRanges {
</span><span style="color: #0000ff;">public</span><span style="color: #000000;">:
    </span><span style="color: #008000;">/*</span><span style="color: #008000;">* Initialize your data structure here. </span><span style="color: #008000;">*/</span><span style="color: #000000;">
    SummaryRanges() {}
    
    </span><span style="color: #0000ff;">void</span> addNum(<span style="color: #0000ff;">int</span><span style="color: #000000;"> val) {
        Interval cur(val, val);
        vector</span>&lt;Interval&gt;<span style="color: #000000;"> res;
        </span><span style="color: #0000ff;">int</span> pos = <span style="color: #800080;">0</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">for</span><span style="color: #000000;"> (auto a : v) {
            </span><span style="color: #0000ff;">if</span> (cur.end + <span style="color: #800080;">1</span> &lt;<span style="color: #000000;"> a.start) {
                res.push_back(a);
            } </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (cur.start &gt; a.end + <span style="color: #800080;">1</span><span style="color: #000000;">) {
                res.push_back(a);
                </span>++<span style="color: #000000;">pos;
            } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
                cur.start </span>=<span style="color: #000000;"> min(cur.start, a.start);
                cur.end </span>=<span style="color: #000000;"> max(cur.end, a.end);
            }
        }
        res.insert(res.begin() </span>+<span style="color: #000000;"> pos, cur);
        v </span>=<span style="color: #000000;"> res;
    }
    
    vector</span>&lt;Interval&gt;<span style="color: #000000;"> getIntervals() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> v;    
    }
    
</span><span style="color: #0000ff;">private</span><span style="color: #000000;">:
    vector</span>&lt;Interval&gt;<span style="color: #000000;"> v;
};</span></pre>
</div>
<p>&nbsp;</p>
<p>类似题目：</p>
<p><a href="http://www.cnblogs.com/grandyang/p/4367569.html" target="_blank">Insert Interval</a></p>
<p>&nbsp;</p>
<p>参考资料:</p>
<p><a href="https://leetcode.com/discuss/105742/simple-java-solution-using-insert-interval" target="_blank">https://leetcode.com/discuss/105742/simple-java-solution-using-insert-interval</a></p>
<p>&nbsp;</p>
<p><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/grandyang/p/4606334.html">LeetCode All in One 题目讲解汇总(持续更新中...)</a> </p></div><div id="MySignature"></div>
<div class="clear"></div>
