<div id="post_detail">
<!--done-->
<div id="topics">
	<div class = "post">
		<h1 class = "postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="https://www.cnblogs.com/grandyang/p/5651982.html">[LeetCode] Super Pow 超级次方</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body"><p>&nbsp;</p>
<p>Your task is to calculate <em>a</em><sup><em>b</em></sup> mod 1337 where <em>a</em> is a positive integer and <em>b</em> is an extremely large positive integer given in the form of an array.</p>
<p><strong>Example1:</strong></p>
<pre>a = 2
b = [3]

Result: 8
</pre>
<p><strong>Example2:</strong></p>
<pre>a = 2
b = [1,0]

Result: 1024
</pre>
<p><strong>Credits:</strong><br />Special thanks to <a href="https://leetcode.com/stomach_ache">@Stomach_ache</a> for adding this problem and creating all test cases.</p>
<p>&nbsp;</p>
<p>这道题题让我们求一个数的很大的次方对1337取余的值，开始一直在想这个1337有什么玄机，为啥突然给这么一个数，感觉很突兀，后来想来想去也没想出来为啥，估计就是怕结果太大无法表示，随便找个数取余吧。那么这道题和之前那道<a href="http://www.cnblogs.com/grandyang/p/4383775.html" target="_blank">Pow(x, n)</a>的解法很类似，我们都得对半缩小，不同的是后面都要加上对1337取余。由于给定的指数b是一个一维数组的表示方法，我们要是折半缩小处理起来肯定十分不方便，所以我们采用按位来处理，比如2<sup>23</sup> = (2<sup>2</sup>)<sup>10</sup> * 2<sup>3</sup>, 所以我们可以从b的最高位开始，算出个结果存入res，然后到下一位是，res的十次方再乘以a的该位次方再对1337取余，参见代码如下：</p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">class</span><span style="color: #000000;"> Solution {
</span><span style="color: #0000ff;">public</span><span style="color: #000000;">:
    </span><span style="color: #0000ff;">int</span> superPow(<span style="color: #0000ff;">int</span> a, vector&lt;<span style="color: #0000ff;">int</span>&gt;&amp;<span style="color: #000000;"> b) {
        </span><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> res = <span style="color: #800080;">1</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span>; i &lt; b.size(); ++<span style="color: #000000;">i) {
            res </span>= pow(res, <span style="color: #800080;">10</span>) * pow(a, b[i]) % <span style="color: #800080;">1337</span><span style="color: #000000;">;
        }
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> res;
    }
    </span><span style="color: #0000ff;">int</span> pow(<span style="color: #0000ff;">int</span> x, <span style="color: #0000ff;">int</span><span style="color: #000000;"> n) {
        </span><span style="color: #0000ff;">if</span> (n == <span style="color: #800080;">0</span>) <span style="color: #0000ff;">return</span> <span style="color: #800080;">1</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">if</span> (n == <span style="color: #800080;">1</span>) <span style="color: #0000ff;">return</span> x % <span style="color: #800080;">1337</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">return</span> pow(x % <span style="color: #800080;">1337</span>, n / <span style="color: #800080;">2</span>) * pow(x % <span style="color: #800080;">1337</span>, n - n / <span style="color: #800080;">2</span>) % <span style="color: #800080;">1337</span><span style="color: #000000;">;
    }
};</span></pre>
</div>
<p>&nbsp;</p>
<p>类似题目：</p>
<p><a href="http://www.cnblogs.com/grandyang/p/4383775.html" target="_blank">Pow(x, n)</a></p>
<p>&nbsp;</p>
<p>参考资料：</p>
<p><a href="https://discuss.leetcode.com/topic/50430/c-ac-recursive-solution" target="_blank">https://discuss.leetcode.com/topic/50430/c-ac-recursive-solution</a></p>
<p>&nbsp;</p>
<p><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/grandyang/p/4606334.html">LeetCode All in One 题目讲解汇总(持续更新中...)</a></p></div><div id="MySignature"></div>
<div class="clear"></div>
